<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <script src="http://s0.bbtree.com/5.0/js/jquery-1.8.3.min.js" type="text/javascript" charset="utf-8"></script>
    <title>会员特权介绍</title>
    <style type="text/css">
        .test{
            border:1px solid #f00;            
        }
    </style>
    <script type="text/javascript">
        $(function(){          
            $("#openingOfTheMember").on('click', function(event) {
                event.preventDefault();
                openingOfTheMemberFn();
            });
        })

        /**
         * 获得系统名称        
         */        
        var mobilesSystemObj = null;
        function getMobilesSystemObj(){
            if(null=== mobilesSystemObj){
                var u = navigator.userAgent, app = navigator.appVersion;
                var nativeVersionsObj = {
                        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
                        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
                        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者QQHD浏览器
                        iPad: u.indexOf('iPad') > -1 //是否iPad
                };
                mobilesSystemObj = {
                    isIos : nativeVersionsObj.ios || nativeVersionsObj.iPhone || nativeVersionsObj.iPad,
                    isAndroid : nativeVersionsObj.android
                } 
            }
            return mobilesSystemObj
        }

        //开通会员
        function openingOfTheMemberFn(){          
            console.log("test");
            if(true === getMobilesSystemObj().isIos){
                window.location.href = 'OpenMember://?test=1'; 
            }

            if(true === getMobilesSystemObj().isAndroid){
                window.android.callNativePay();    
            }
        }        

        /**
         *          
         */
        function openingOfTheMemberSuccess(){
            alert("支付成功");
        }

        /**
         *          
         */
        function openingOfTheMemberFailure(){
            alert("支付失败");
        }        
    </script>
</head>

<body>
    <div class="top">

        <p>会员专属活动</p>
        <p>智慧树会员定期专属活动</p>
    </div>
    <div class="content">
        <h3>特权说明</h3>
        <p>定期会有专属会员的有奖活动可以参加，同时还有不定期的会员积分拍卖轰动，各种好礼等你来拿</p>
        <h3><input type="button" value="开通会员" id="openingOfTheMember"></h3>        
    </div>   
</body>

</html>
